import{_ as g,a as h,P as i,t as k,l as y,A as r}from"./index.40ff47a0.js";import{C as w,c as d,o as l,b as _,d as t,F as x,H as b,p as T,m as A,f as u,t as v}from"./vendor.ca3c9dda.js";const D={name:"Account",setup(c){return w(async()=>{try{await h.getMyTickets()}catch(e){i.error(e)}}),{async deleteTicket(e){try{await i.confirm("Refund Ticket?","are you sure you want to cancel?","info","Yes Refund")&&await k.deleteTicket(e)}catch(n){y.error(n),i.toast(n.message,"error")}},formatDate(e){return` ${new Date(e).toDateString()}`},account:d(()=>r.account),tickets:d(()=>r.tickets),towerEvents:d(()=>r.accountTickets)}}},a=c=>(T("data-v-9238f200"),c=c(),A(),c),S={class:"about text-end"},E=["src"],I=a(()=>t("section",{id:"account-events"},[t("div",{id:"events-container"})],-1)),C={id:"event-tickets"},P=a(()=>t("div",{class:"row"},[t("h5",{class:"this text-white"},"My Tickets for attending Events")],-1)),B={class:"row"},M={class:"col-md-12 p-2"},N=["src"],R=a(()=>t("div",{class:"text-secondary"},[t("h5",{class:"p-1"},"Name")],-1)),j=a(()=>t("div",{class:"text-secondary"},[t("h5",{class:"p-1 pt-2"},"Description")],-1)),F=a(()=>t("div",{class:"text-secondary"},[t("h5",{class:"p-1 pt-2"},"Event Date")],-1)),V=["onClick"],$=a(()=>t("div",{class:"events-container"},null,-1));function H(c,e,n,o,L,Y){return l(),_("div",null,[t("div",S,[t("img",{onClick:e[0]||(e[0]=(...s)=>c.editAccount&&c.editAccount(...s)),"data-bs-toggle":"modal","data-bs-target":"#editAccount-form",class:"rounded-pill selectable m-3 img-fluid logo",src:o.account.picture,alt:""},null,8,E)]),I,t("section",C,[P,t("div",B,[(l(!0),_(x,null,b(o.towerEvents,s=>{var p,m,f;return l(),_("div",{class:"col-md-4 this card bg-dark text-center mt-4",key:s.id},[t("div",M,[t("img",{class:"ticket-image img-fluid",src:s.event.coverImg,alt:""},null,8,N),R,u(" "+v((p=s.event)==null?void 0:p.name)+" ",1),j,u(" "+v((m=s.event)==null?void 0:m.description)+" ",1),F,u(" "+v(o.formatDate((f=s.event)==null?void 0:f.startDate)),1)]),t("button",{onClick:q=>o.deleteTicket(s.id),class:"m-2 btn btn-danger"}," Refund Ticket ",8,V)])}),128))]),$])])}var J=g(D,[["render",H],["__scopeId","data-v-9238f200"]]);export{J as default};
